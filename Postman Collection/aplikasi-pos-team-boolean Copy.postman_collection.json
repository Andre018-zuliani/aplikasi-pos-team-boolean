{
  "info": {
    "_postman_id": "9d9e45ef-3e44-4b52-b5a6-53071cfdd05e",
    "name": "aplikasi-pos-team-boolean (Complete Auth & SMTP Tests)",
    "description": "API Collection for POS Application - Team Boolean\n\nIncludes complete authentication flow with SMTP/OTP testing.\n\n**Setup:**\n1. Set `base_url` variable to your server URL (default: http://localhost:8080)\n2. Ensure SMTP is configured in .env\n3. Run requests in order for OTP flow\n\n**Test Flow:**\n1. Health Check\n2. Check Email (verify email exists)\n3. Send OTP (receive email with OTP code)\n4. Validate OTP (verify OTP is valid)\n5. Reset Password (change password with OTP)\n6. Login (use new password)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "50992172"
  },
  "item": [
    {
      "name": "Health Check",
      "item": [
        {
          "name": "Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Server is healthy\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.status).to.eql(\"healthy\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            },
            "description": "Check if server is running and healthy."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Authentication & SMTP",
      "item": [
        {
          "name": "1. Register New User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"User created successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('email');",
                  "    ",
                  "    // Save user ID for future requests",
                  "    pm.environment.set(\"test_user_id\", jsonData.data.id);",
                  "    pm.environment.set(\"test_user_email\", jsonData.data.email);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"newcustomer@pos.com\",\n  \"password\": \"customer123\",\n  \"name\": \"New Customer\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "register"]
            },
            "description": "Register a new customer user. Role will be automatically set to 'customer'."
          },
          "response": []
        },
        {
          "name": "2. Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('token');",
                  "    ",
                  "    // Save token for future requests",
                  "    pm.environment.set(\"auth_token\", jsonData.data.token);",
                  "});",
                  "",
                  "pm.test(\"User data is returned\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data).to.have.property('email');",
                  "    pm.expect(jsonData.data).to.have.property('name');",
                  "    pm.expect(jsonData.data).to.have.property('role');",
                  "    pm.expect(jsonData.data).to.have.property('expires_at');",
                  "    ",
                  "    // Save user ID",
                  "    pm.environment.set(\"user_id\", jsonData.data.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@pos.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "login"]
            },
            "description": "Login dengan email dan password.\n\n**Test Credentials:**\n- Admin: `admin@pos.com` / `admin123`\n- Manager: `manager@pos.com` / `manager123`\n- Staff: `staff@pos.com` / `staff123`"
          },
          "response": []
        },
        {
          "name": "3. Get User by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User data is returned\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('email');",
                  "    pm.expect(jsonData.data).to.have.property('name');",
                  "    pm.expect(jsonData.data).to.have.property('role');",
                  "    pm.expect(jsonData.data).to.have.property('status');",
                  "    pm.expect(jsonData.data).to.have.property('created_at');",
                  "    pm.expect(jsonData.data).to.have.property('updated_at');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/auth/user/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "user", "1"]
            },
            "description": "Get user profile by ID. Replace '1' with actual user ID or use {{user_id}} variable."
          },
          "response": []
        },
        {
          "name": "4. Delete User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User deleted successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.message).to.include('deleted');",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('email');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/auth/user/5",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "user", "5"]
            },
            "description": "Soft delete user by ID. Replace '5' with actual user ID. User is marked as deleted but not removed from database."
          },
          "response": []
        },
        {
          "name": "5. Check Email (Exists)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Email exists in system\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.data.exists).to.be.true;",
                  "    pm.expect(jsonData.message).to.include('already registered');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@pos.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/check-email",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "check-email"]
            },
            "description": "Mengecek apakah email sudah terdaftar di sistem.\n\n**Use Case:**\n- Validasi sebelum registration\n- Validasi sebelum password reset\n\n**Expected:** Email exists = true"
          },
          "response": []
        },
        {
          "name": "6. Check Email (Not Exists)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Email does not exist\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.data.exists).to.be.false;",
                  "    pm.expect(jsonData.message).to.include('not registered');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"notexists@example.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/check-email",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "check-email"]
            },
            "description": "Test dengan email yang tidak terdaftar.\n\n**Expected:** Email exists = false"
          },
          "response": []
        },
        {
          "name": "7. Send OTP (Password Reset)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"OTP sent successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.message).to.include('OTP has been sent');",
                  "});",
                  "",
                  "pm.test(\"Response contains email info\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data).to.have.property('email');",
                  "    pm.expect(jsonData.data.email).to.eql(pm.variables.get('test_email') || 'admin@pos.com');",
                  "});",
                  "",
                  "console.log(\"üìß OTP email sent! Check your inbox.\");",
                  "console.log(\"‚è∞ OTP valid for 10 minutes.\");",
                  "console.log(\"üî¢ Copy OTP code from email and use in next request.\");"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Set test email if not already set",
                  "if (!pm.environment.get('test_email')) {",
                  "    pm.environment.set('test_email', 'admin@pos.com');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@pos.com\",\n  \"purpose\": \"password_reset\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/send-otp",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "send-otp"]
            },
            "description": "Mengirim OTP ke email user untuk password reset.\n\n**SMTP Configuration Required:**\n- Pastikan SMTP_HOST, SMTP_PORT, SMTP_EMAIL, SMTP_PASSWORD sudah diset di .env\n- Untuk Gmail: Gunakan App Password (bukan password biasa)\n\n**Purpose Options:**\n- `password_reset` - Reset password (requires existing email)\n- `email_verification` - Email verification (for new users)\n\n**OTP Details:**\n- 6-digit random code\n- Valid for 10 minutes\n- Case-sensitive\n- One-time use only\n\n**Steps:**\n1. Run this request\n2. Check email inbox\n3. Copy 6-digit OTP code\n4. Use in \"Validate OTP\" or \"Reset Password\" request"
          },
          "response": []
        },
        {
          "name": "8. Send OTP (Email Verification)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"OTP sent for email verification\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"newuser@example.com\",\n  \"purpose\": \"email_verification\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/send-otp",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "send-otp"]
            },
            "description": "Send OTP untuk email verification (tidak perlu email terdaftar)."
          },
          "response": []
        },
        {
          "name": "4. Validate OTP",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"OTP is valid\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.data.valid).to.be.true;",
                  "    pm.expect(jsonData.message).to.include('OTP is valid');",
                  "});",
                  "",
                  "pm.test(\"Token is returned\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data).to.have.property('token');",
                  "    ",
                  "    // Save OTP token for reset password",
                  "    pm.environment.set('otp_token', jsonData.data.token);",
                  "});",
                  "",
                  "console.log(\"‚úÖ OTP validated successfully!\");",
                  "console.log(\"üîë Token saved. You can now reset password.\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@pos.com\",\n  \"otp_code\": \"123456\",\n  \"purpose\": \"password_reset\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/validate-otp",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "validate-otp"]
            },
            "description": "Memvalidasi OTP code yang dikirim ke email.\n\n**Instructions:**\n1. Get OTP code from email (6 digits)\n2. Replace `123456` with actual OTP code\n3. Ensure email and purpose match the Send OTP request\n4. Submit within 10 minutes\n\n**Validation Rules:**\n- OTP must match exactly (case-sensitive)\n- OTP must not be expired (10 min)\n- OTP must not be used already\n- Email must match\n- Purpose must match"
          },
          "response": []
        },
        {
          "name": "11. Reset Password",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Password reset successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.message).to.include('Password reset successfully');",
                  "});",
                  "",
                  "pm.test(\"Success message returned\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data).to.have.property('message');",
                  "    pm.expect(jsonData.data.message).to.include('login with your new password');",
                  "});",
                  "",
                  "console.log(\"‚úÖ Password reset successfully!\");",
                  "console.log(\"üîê You can now login with new password.\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@pos.com\",\n  \"otp_code\": \"123456\",\n  \"new_password\": \"newpassword123\",\n  \"purpose\": \"password_reset\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/reset-password",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "reset-password"]
            },
            "description": "Reset password user dengan validasi OTP.\n\n**Requirements:**\n- Valid OTP code (from email)\n- Email must exist in system\n- New password min 6 characters\n- OTP must not be expired\n- OTP must not be used\n\n**Steps:**\n1. Get OTP from email\n2. Enter email, OTP code, and new password\n3. Submit request\n4. Login with new password\n\n**Security:**\n- Password will be hashed with bcrypt\n- OTP will be marked as used\n- Old password becomes invalid"
          },
          "response": []
        },
        {
          "name": "6. Login with New Password",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Login successful with new password\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('token');",
                  "});",
                  "",
                  "console.log(\"‚úÖ Login successful with new password!\");",
                  "console.log(\"üéâ Password reset flow completed.\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@pos.com\",\n  \"password\": \"newpassword123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "login"]
            },
            "description": "Test login dengan password baru setelah reset.\n\n**Verify:**\n- New password works\n- Old password no longer works\n- Token is generated successfully"
          },
          "response": []
        },
        {
          "name": "‚ùå Test: Invalid OTP",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400 or 401\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([400, 401]);",
                  "});",
                  "",
                  "pm.test(\"Error message for invalid OTP\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.false;",
                  "    pm.expect(jsonData.message).to.include('Invalid');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@pos.com\",\n  \"otp_code\": \"999999\",\n  \"purpose\": \"password_reset\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/validate-otp",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "validate-otp"]
            },
            "description": "Test dengan OTP yang salah.\n\n**Expected:** Error response dengan status 400/401"
          },
          "response": []
        },
        {
          "name": "‚ùå Test: Expired OTP",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400 or 401\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([400, 401]);",
                  "});",
                  "",
                  "pm.test(\"Error message for expired OTP\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.false;",
                  "    pm.expect(jsonData.message).to.satisfy(function(msg) {",
                  "        return msg.includes('expired') || msg.includes('Invalid');",
                  "    });",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@pos.com\",\n  \"otp_code\": \"000000\",\n  \"purpose\": \"password_reset\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/validate-otp",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "validate-otp"]
            },
            "description": "Test dengan OTP yang sudah expired (>10 menit).\n\n**Note:** Untuk test ini, gunakan OTP yang sudah >10 menit atau sudah digunakan."
          },
          "response": []
        },
        {
          "name": "‚ùå Test: Send OTP to Non-existent Email",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404 or 400\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([400, 404]);",
                  "});",
                  "",
                  "pm.test(\"Error for non-existent email\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.false;",
                  "    pm.expect(jsonData.message).to.satisfy(function(msg) {",
                  "        return msg.includes('not found') || msg.includes('not registered');",
                  "    });",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"notexists@example.com\",\n  \"purpose\": \"password_reset\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/send-otp",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "send-otp"]
            },
            "description": "Test send OTP ke email yang tidak terdaftar (untuk password_reset).\n\n**Expected:** Error karena email tidak ditemukan"
          },
          "response": []
        }
      ],
      "description": "Complete authentication flow dengan SMTP/OTP testing.\n\n**Flow:**\n1. Check Email ‚Üí Verify email exists\n2. Send OTP ‚Üí Receive OTP via email\n3. Validate OTP ‚Üí Verify OTP is valid\n4. Reset Password ‚Üí Change password\n5. Login ‚Üí Use new credentials\n\n**SMTP Setup Required:**\nPastikan .env sudah dikonfigurasi:\n```\nSMTP_HOST=smtp.gmail.com\nSMTP_PORT=587\nSMTP_EMAIL=your-email@gmail.com\nSMTP_PASSWORD=your-app-password\n```\n\n**Test Credentials:**\n- admin@pos.com / admin123\n- manager@pos.com / manager123\n- staff@pos.com / staff123"
    },
    {
      "name": "Inventories",
      "item": [
        {
          "name": "Get All Inventories",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/inventories?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "inventories"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Items per page"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Inventories with Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/inventories/filter?status=available&category=food",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "inventories", "filter"],
              "query": [
                {
                  "key": "status",
                  "value": "available"
                },
                {
                  "key": "category",
                  "value": "food"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Inventory",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"New Product\",\n  \"category\": \"food\",\n  \"unit\": \"pcs\",\n  \"stock\": 100,\n  \"price\": 50000\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/inventories",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "inventories"]
            }
          },
          "response": []
        },
        {
          "name": "Update Inventory",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Product\",\n  \"stock\": 150\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/inventories/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "inventories", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Inventory",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/inventories/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "inventories", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Staff",
      "item": [
        {
          "name": "Get All Staff",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/staff?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "staff"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Staff by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/staff/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "staff", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Staff by Email",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/staff/email?email=staff@pos.com",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "staff", "email"],
              "query": [
                {
                  "key": "email",
                  "value": "staff@pos.com"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Staff",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"full_name\": \"New Staff\",\n  \"email\": \"newstaff@pos.com\",\n  \"role\": \"cashier\",\n  \"phone\": \"08123456789\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/staff",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "staff"]
            }
          },
          "response": []
        },
        {
          "name": "Update Staff",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"full_name\": \"Updated Staff Name\",\n  \"phone\": \"08199999999\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/staff/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "staff", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Staff",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/staff/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "staff", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Orders",
      "item": [
        {
          "name": "Get All Orders",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Tables",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/orders/tables",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders", "tables"]
            }
          },
          "response": []
        },
        {
          "name": "Get Payment Methods",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/orders/payment-methods",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders", "payment-methods"]
            }
          },
          "response": []
        },
        {
          "name": "Get Available Chairs",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/orders/available-chairs",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders", "available-chairs"]
            }
          },
          "response": []
        },
        {
          "name": "Create Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"table_id\": 1,\n  \"items\": [\n    {\n      \"inventory_id\": 1,\n      \"quantity\": 2,\n      \"price\": 50000\n    }\n  ],\n  \"payment_method_id\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders"]
            }
          },
          "response": []
        },
        {
          "name": "Update Order",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"completed\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/orders/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Order",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/orders/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Reservations",
      "item": [
        {
          "name": "Get All Reservations",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has reservations data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/reservations",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "reservations"]
            },
            "description": "Get all reservations with customer details and total price"
          },
          "response": []
        },
        {
          "name": "Create Reservation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Reservation created successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('customer_name');",
                  "    ",
                  "    // Save reservation ID for update/delete tests",
                  "    pm.environment.set(\"test_reservation_id\", jsonData.data.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"table_number\": \"T01\",\n  \"customer_name\": \"John Doe\",\n  \"customer_phone\": \"081234567890\",\n  \"reserve_date\": \"2024-02-10\",\n  \"reservation_time\": \"19:00\",\n  \"duration_minutes\": 120,\n  \"pax_number\": 4,\n  \"deposit_fee\": 100000,\n  \"status\": \"pending\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/reservations",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "reservations"]
            },
            "description": "Create a new reservation with customer details, table, and time slot"
          },
          "response": []
        },
        {
          "name": "Update Reservation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Reservation updated successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.message).to.include('updated');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"table_number\": \"T02\",\n  \"status\": \"confirmed\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/reservations/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "reservations", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1",
                  "description": "Reservation ID to update"
                }
              ]
            },
            "description": "Update reservation details (table, status, etc.)\n\n**Status options:** pending, confirmed, cancelled, completed"
          },
          "response": []
        },
        {
          "name": "Delete Reservation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Reservation deleted successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.true;",
                  "    pm.expect(jsonData.message).to.include('deleted');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/reservations/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "reservations", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1",
                  "description": "Reservation ID to delete"
                }
              ]
            },
            "description": "Soft delete a reservation by ID"
          },
          "response": []
        }
      ],
      "description": "Reservations management endpoints - Create, Read, Update, and Delete table reservations"
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "type": "string"
    }
  ]
}
